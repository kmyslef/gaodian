<!--index.wxml-->
<view class="container">
  <view style="display:flex;flex-direction: row;">
    <view>
      <van-badge-group bind:change="onBadgeChange" custom-class="group">
        <block wx:for="{{classifyList}}" wx:for-index="tindex" data-index="{{tindex}}" wx:key="{{item.classifyID}}">
          <van-badge title="{{item.classifyName}}" />
        </block>

      </van-badge-group>
    </view>
    <view style="flex:1;">
      <scroll-view scroll-y style="height:{{scroll_height}}rpx;" bindscrolltoupper="upper" bindscrolltolower="lower" bindscroll="scroll">
        <block wx:for="{{objs}}" wx:for-index="tindex" data-index="{{tindex}}" wx:key="{{item.objID}}">
          <van-card id="{{item.objID}}" price="{{item.price}}" desc="{{item.desc}}" title="{{item.title}}" thumb="{{item.thumbUrl}}" catchtap="cellChoose">
            <view slot="tags">
              <block wx:for="{{item.tags}}" data-index="{{tindex}}" wx:key="{{this}}">
                <van-tag plain type="danger" custom-class="tag">{{item.name}}</van-tag>
              </block>
            </view>
            <view slot="footer" class="van-card__footer">
              <van-stepper value="{{ objNum[currentClass][tindex] }}" data-index="{{tindex}}" disableInput  bind:change="onStepperChange"/>
            </view>
          </van-card>
        </block>
      </scroll-view>

    </view>

  </view>


  <van-submit-bar
    price="{{ totlePrice }}"
    button-text="确定"
    bind:submit="onCommitBtn"
    custom-class="van-submit-bar"
    safe-area-inset-bottom="{{ false }}"
  />


</view>